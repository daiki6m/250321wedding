# デプロイとトラブルシューティングガイド

このプロジェクトをGitHub Pagesにデプロイする際の注意点と、よくある問題の解決方法をまとめています。AIアシスタントに指示を出す際は、このドキュメントを参照させてください。

## 1. 画像ファイルの命名規則（重要）
GitHub Pages（Linux環境）はファイル名の大文字・小文字を区別します。
**すべての画像ファイルの拡張子は小文字（`.jpg`, `.png`）に統一してください。**

- ❌ `Image.JPG`, `Photo.PNG`
- ✅ `image.jpg`, `photo.png`

### ファイル名の変更方法
すでにGit管理されているファイルの大文字・小文字を変更する場合、OSのファイル操作だけではGitが変更を認識しないことがあります。必ず `git mv` コマンドを使用してください。

```bash
# 例: 拡張子を小文字に変更
git mv public/gallery/01.JPG public/gallery/01.jpg
```

## 2. Git LFS (Large File Storage)
高解像度の画像や動画はGit LFSで管理されています。

### 画像が表示されない場合
ローカル環境で画像が表示されない、またはデプロイ後に画像が壊れている場合は、LFSオブジェクトが正しく取得・アップロードされていない可能性があります。

```bash
# LFSファイルをプル（ダウンロード）
git lfs pull

# LFSファイルをプッシュ（アップロード）
git push origin main
```

## 3. デプロイ手順
このプロジェクトはGitHub Actionsを使用して自動デプロイされます。

1. 変更をコミット
2. `main` ブランチにプッシュ
3. GitHub Actionsが自動的にビルドとデプロイを開始

デプロイ状況の確認: [GitHub Actions](https://github.com/daiki6m/250321wedding/actions)

## 4. トラブルシューティング

### 404エラーが出る / 画像が表示されない
1. **パスの確認**: コード内のパスが正しいか確認してください（`import.meta.env.BASE_URL` の使用など）。
2. **ファイル名の確認**: 大文字・小文字がコードとファイルシステムで完全に一致しているか確認してください。
3. **LFSの確認**: 上記のLFS手順を実行してください。

### 以前のバージョンに戻したい
誤ったデプロイを行った場合、Gitの履歴から正常なコミットに戻すことができます。

```bash
# 履歴を確認
git log --oneline

# 特定のコミットまで戻す（注意: その後の変更は消えます）
git reset --hard <commit-hash>
git push --force origin main
```
